<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>nothing.chat homepage</title>
  <link rel="stylesheet" type="text/css" href="./style/index.css">
</head>
<body>
  <h1>nothing.chat</h1>
  <div class='generate__button'>Generate Room</div>
  <div class='output__url'></div>
  <script>
    const button = document.querySelector('.generate__button')
    const output = document.querySelector('.output__url')

    button.addEventListener('click', event => {
      fetch('api/create')
        .then(res => res.json())
        .then(({ chatId }) => {
          console.log({ chatId })
          output.innerHTML = `<a href='/c/${chatId}'>${chatId}</a>`
        })
    })
  </script>
</body>
</html>
